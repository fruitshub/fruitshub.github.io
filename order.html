<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Order | Nachole Fruits Hub</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Header -->
  <header class="bg-success text-white">
    <div class="container py-2">
      <div class="row align-items-center">
        <div class="col-8 d-flex align-items-center">
          <img src="logo.png" alt="Nachole Fruits Hub Logo" height="50" class="me-2" />
          <div>
            <h1 class="h5 mb-0 lang" data-en="Nachole Fruits Hub" data-bn="নাচোল ফল হাব">নাচোল ফল হাব</h1>
            <p class="mb-0 lang" data-en="Order fresh, juicy mangoes directly from Nachole!" data-bn="নাচোল থেকে সরাসরি তাজা, রসালো আম অর্ডার করুন!">
              নাচোল থেকে সরাসরি তাজা, রসালো আম অর্ডার করুন!
            </p>
          </div>
        </div>
        <div class="col-4 text-end">
          <div class="btn-group">
            <button id="langEn" class="btn btn-light btn-sm">English</button>
            <button id="langBn" class="btn btn-warning btn-sm">বাংলা</button>
          </div>
        </div>
      </div>
    </div>
    <div class="overflow-hidden text-center">
      <div class="marquee lang fw-bold text-orange"
        data-en="Tree-ripened Gopalbhog, Khirsapat, Himsagar, Langra, Fazli from Nachole, Chapainawabganj — directly from orchard to your home. Trust and quality are our promise. Contact: 01743-127122"
        data-bn="চাঁপাইনবাবগঞ্জ, নাচোলের গাছপাকা গোপালভোগ, ক্ষিরসাপাত, হিমসাগর, ল্যাংড়া, ফজলি — সরাসরি বাগান থেকে ঘরে। বিশ্বস্ততা ও গুণগত মান আমাদের অঙ্গীকার। যোগাযোগ: ০১৭৪৩-১২৭১২২">
        চাঁপাইনবাবগঞ্জ, নাচোলের গাছপাকা গোপালভোগ, ক্ষিরসাপাত, হিমসাগর, ল্যাংড়া, ফজলি — সরাসরি বাগান থেকে ঘরে। বিশ্বস্ততা ও গুণগত মান আমাদের অঙ্গীকার। যোগাযোগ: ০১৭৪৩-১২৭১২২
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav justify-content-center bg-success sticky-top shadow-sm">
    <a class="nav-link text-white lang" data-en="Home" data-bn="হোম" href="index.html">হোম</a>
    <a class="nav-link text-white lang" data-en="About" data-bn="পরিচিতি" href="about.html">পরিচিতি</a>
    <a class="nav-link text-white lang" data-en="Contact" data-bn="যোগাযোগ" href="contact.html">যোগাযোগ</a>
    <a class="nav-link text-white lang" data-en="Order" data-bn="অর্ডার" href="order.html">অর্ডার</a>
  </nav>

  <!-- Main Content -->
  <main class="container mt-5 form-section">
    <h2 class="mb-4 text-center lang" data-en="Place Your Order" data-bn="আপনার অর্ডার দিন">আপনার অর্ডার দিন</h2>

    <p class="lang text-center mb-4"
       data-en="Please fill out the form below to place your mango order. You can choose your preferred mango type, quantity, and payment method. We offer Cash on Delivery, as well as bKash, Nagad, Rocket, and Bank Transfer options. Once submitted, your order will be saved and you'll be redirected for payment (if selected)."
       data-bn="আপনার পছন্দের আম, পরিমাণ ও পেমেন্ট পদ্ধতি বেছে নিয়ে নিচের ফর্মটি পূরণ করুন। আমরা ক্যাশ অন ডেলিভারি ছাড়াও বিকাশ, নগদ, রকেট ও ব্যাংক ট্রান্সফার পদ্ধতি গ্রহণ করি। জমা দেওয়ার পর অর্ডার সংরক্ষিত হবে এবং প্রয়োজনে আপনাকে পেমেন্টের জন্য রিডাইরেক্ট করা হবে।">
      আপনার পছন্দের আম, পরিমাণ ও পেমেন্ট পদ্ধতি বেছে নিয়ে নিচের ফর্মটি পূরণ করুন...
    </p>

    <!-- Order Form -->
     <form id="orderForm" action="https://script.google.com/macros/s/AKfycbxKv6UlCca9dhTPi6Opx9W5mtguoLbwp2sB_Jn_hcVsLkUynil1uj0IciG8tGpMFlljbQ/exec" method="POST">
    <div class="mb-3">
      <label for="name" id="labelName" class="form-label">পুরো নাম *</label>
      <input type="text" name="name" class="form-control" id="name" required />
    </div>

    <div class="mb-3">
      <label for="phone" id="labelPhone" class="form-label">ফোন নম্বর *</label>
      <input type="tel" name="phone" class="form-control" id="phone" required />
    </div>

    <div class="mb-3">
      <label for="email" id="labelEmail" class="form-label">ইমেইল</label>
      <input type="email" name="email" class="form-control" id="email" />
    </div>

    <div class="mb-3">
      <label for="address" id="labelAddress" class="form-label">ঠিকানা *</label>
      <textarea name="address" class="form-control" id="address" required></textarea>
    </div>

    <div class="mb-3">
      <label for="mangoType" id="labelMango" class="form-label">আমের ধরণ</label>
      <select class="form-select" id="mangoType" name="mango_type" onchange="updatePrice()">
        <option value="Langra" data-price="100">Langra - ৳100/kg</option>
        <option value="Himsagar" data-price="120">Himsagar - ৳120/kg</option>
        <option value="Amrapali" data-price="130">Amrapali - ৳130/kg</option>
      </select>
    </div>

    <div class="mb-3">
      <label id="labelPrice" class="form-label">প্রতি কেজির দাম</label>
      <input type="text" class="form-control" id="pricePerKg" name="price_per_kg" readonly />
    </div>

    <div class="mb-3">
      <label for="quantity" id="labelQty" class="form-label">পরিমাণ (কেজি)</label>
      <input type="number" name="quantity" id="quantity" class="form-control" min="5" step="5" required onchange="calculateTotal()" />
    </div>

    <div class="mb-3">
      <label id="labelTotal" class="form-label">মোট মূল্য</label>
      <input type="text" class="form-control" id="totalPrice" name="total_price" readonly />
    </div>

    <div class="mb-3">
      <label for="deliveryDate" id="labelDate" class="form-label">ডেলিভারির তারিখ</label>
      <input type="date" name="delivery_date" id="deliveryDate" class="form-control" required />
    </div>

    <div class="mb-3">
      <label for="payment" id="labelPayment" class="form-label">পেমেন্ট পদ্ধতি</label>
      <select class="form-select" id="payment" name="payment_method" required onchange="togglePaymentFields()">
        <option value="cod">Cash on Delivery</option>
        <option value="bkash">bKash</option>
        <option value="nagad">Nagad</option>
        <option value="rocket">Rocket</option>
        <option value="bank">Bank Transfer</option>
      </select>
    </div>

    <div id="paymentInstruction" class="alert alert-info d-none"></div>

    <div class="mb-3">
        <label for="trxId" id="labelTrx" class="form-label">লেনদেন নম্বর *</label>
        <input type="text" class="form-control" id="trxId" name="trx_id" />
      </div>
      <div class="mb-3">
        <label for="senderNumber" id="labelSender" class="form-label">প্রেরক নম্বর *</label>
        <input type="tel" class="form-control" id="senderNumber" name="sender_number" />
      </div>

    <!--<div id="paymentFields" class="d-none">
      <div class="mb-3">
        <label for="trxId" id="labelTrx" class="form-label">লেনদেন নম্বর *</label>
        <input type="text" class="form-control" id="trxId" name="trx_id" />
      </div>
      <div class="mb-3">
        <label for="senderNumber" id="labelSender" class="form-label">প্রেরক নম্বর *</label>
        <input type="tel" class="form-control" id="senderNumber" name="sender_number" />
      </div>
    </div>-->

    <div class="mb-3">
      <label for="comment" id="labelComment" class="form-label">মন্তব্য</label>
      <textarea name="comment" class="form-control" id="comment" rows="2"></textarea>
    </div>

    <button type="submit" id="submitBtn" class="btn btn-success w-100">অর্ডার করুন</button>
  </form>
  </main>

  <!-- Price Calculation Script -->
  <script>
    function updatePrice() {
      const select = document.getElementById('mangoType');
      const selectedOption = select.options[select.selectedIndex];
      const price = selectedOption.getAttribute('data-price');
      document.getElementById('pricePerKg').value = price;
      calculateTotal();
    }

    function calculateTotal() {
      const price = parseInt(document.getElementById('pricePerKg').value);
      const qty = parseInt(document.getElementById('quantity').value);
      document.getElementById('totalPrice').value = price * qty;
    }

    calculateTotal();
    
  </script>

  <script src="script.js" defer></script>

  <script>
  function togglePaymentFields() {
    const method = document.getElementById('payment').value;
    const instruction = document.getElementById('paymentInstruction');
    const extraFields = document.getElementById('paymentFields');

    const paymentTexts = {
      bkash: `Send Money to bKash Personal Number:<br><strong>📱 01920-539997</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      nagad: `Send Money to Nagad Number:<br><strong>📱 01743-127122</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      rocket: `Send Money to Rocket Number:<br><strong>📱 01743-127122</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      bank: `Bank Transfer to:<br><strong>Bank:</strong> Dutch Bangla Bank Ltd.<br><strong>A/C No:</strong> 1791030100041<br><strong>Name:</strong> Md. Moshiur Rahman<br><strong>Routing:</strong> 090331639<br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`
    };

    if (method === 'cod') {
      instruction.classList.add('d-none');
      extraFields.classList.add('d-none');
      document.getElementById('trxId').required = false;
      document.getElementById('senderNumber').required = false;
    } else {
      instruction.classList.remove('d-none');
      extraFields.classList.remove('d-none');
      instruction.innerHTML = paymentTexts[method] || '';
      document.getElementById('trxId').required = true;
      document.getElementById('senderNumber').required = true;
    }
  }

  // Run on page load in case form is pre-filled
  document.addEventListener('DOMContentLoaded', togglePaymentFields);

    function updatePrice() {
      const select = document.getElementById('mangoType');
      const price = select.options[select.selectedIndex].getAttribute('data-price');
      document.getElementById('pricePerKg').value = price;
      calculateTotal();
    }

    function calculateTotal() {
      const price = parseInt(document.getElementById('pricePerKg').value || 0);
      const qty = parseInt(document.getElementById('quantity').value || 0);
      document.getElementById('totalPrice').value = price * qty;
    }

    function togglePaymentFields() {
      const method = document.getElementById('payment').value;
      const instruction = document.getElementById('paymentInstruction');
      const extraFields = document.getElementById('paymentFields');

      const info = {
        bkash: "Send to bKash: 01920-539997",
        nagad: "Send to Nagad: 01743-127122",
        rocket: "Send to Rocket: 01743-127122",
        bank: "Transfer to DBBL: 1791030100041 (Md. Moshiur Rahman)"
      };

      if (method === 'cod') {
        instruction.classList.add('d-none');
        extraFields.classList.add('d-none');
        document.getElementById('trxId').required = false;
        document.getElementById('senderNumber').required = false;
      } else {
        instruction.innerHTML = info[method];
        instruction.classList.remove('d-none');
        extraFields.classList.remove('d-none');
        document.getElementById('trxId').required = true;
        document.getElementById('senderNumber').required = true;
      }
    }

    let lang = 'bn';
    function toggleLanguage() {
      const bn = {
        formTitle: "অর্ডার ফর্ম",
        labelName: "পুরো নাম *",
        labelPhone: "ফোন নম্বর *",
        labelEmail: "ইমেইল",
        labelAddress: "ঠিকানা *",
        labelMango: "আমের ধরণ",
        labelPrice: "প্রতি কেজির দাম",
        labelQty: "পরিমাণ (কেজি)",
        labelTotal: "মোট মূল্য",
        labelDate: "ডেলিভারির তারিখ",
        labelPayment: "পেমেন্ট পদ্ধতি",
        labelTrx: "লেনদেন নম্বর *",
        labelSender: "প্রেরক নম্বর *",
        labelComment: "মন্তব্য",
        submitBtn: "অর্ডার করুন"
      };

      const en = {
        formTitle: "Order Form",
        labelName: "Full Name *",
        labelPhone: "Phone Number *",
        labelEmail: "Email",
        labelAddress: "Delivery Address *",
        labelMango: "Mango Type",
        labelPrice: "Price per kg",
        labelQty: "Quantity (kg)",
        labelTotal: "Total Price",
        labelDate: "Preferred Delivery Date",
        labelPayment: "Payment Method",
        labelTrx: "Transaction ID *",
        labelSender: "Sender Number *",
        labelComment: "Additional Notes",
        submitBtn: "Submit Order"
      };

      const t = lang === 'bn' ? en : bn;
      for (const id in t) {
        const el = document.getElementById(id);
        if (el) el.innerHTML = t[id];
      }
      lang = lang === 'bn' ? 'en' : 'bn';
    }

    document.addEventListener('DOMContentLoaded', () => {
      updatePrice();
      togglePaymentFields();
      calculateTotal();
    });
    
</script>
</body>
</html>
