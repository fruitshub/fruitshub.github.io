<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Order | Nachole Fruits Hub</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Header -->
  <header class="custom-header text-white">
    <div class="container py-2">
      <div class="row align-items-center">
        <div class="col-8 d-flex align-items-center">
          <img src="logo.png" alt="Nachole Fruits Hub Logo" height="50" class="me-2" />
          <div>
            <h1 class="h5 mb-0 lang" data-en="Nachole Fruits Hub" data-bn="নাচোল ফল হাব">নাচোল ফল হাব</h1>
            <p class="mb-0 lang" data-en="Order fresh, juicy mangoes directly from Nachole!" data-bn="নাচোল থেকে সরাসরি তাজা, রসালো আম অর্ডার করুন!">
              নাচোল থেকে সরাসরি তাজা, রসালো আম অর্ডার করুন!
            </p>
          </div>
        </div>
        <div class="col-4 text-end">
          <div class="btn-group">
            <button id="langEn" class="btn btn-light btn-sm">English</button>
            <button id="langBn" class="btn btn-warning btn-sm">বাংলা</button>
          </div>
        </div>
      </div>
    </div>
    <div class="overflow-hidden text-center">
      <div class="marquee lang fw-bold text-orange"
        data-en="Tree-ripened Gopalbhog, Khirsapat, Himsagar, Langra, Fazli from Nachole, Chapainawabganj — directly from orchard to your home. Trust and quality are our promise. Contact: 01743-127122"
        data-bn="চাঁপাইনবাবগঞ্জ, নাচোলের গাছপাকা গোপালভোগ, ক্ষিরসাপাত, হিমসাগর, ল্যাংড়া, ফজলি — সরাসরি বাগান থেকে ঘরে। বিশ্বস্ততা ও গুণগত মান আমাদের অঙ্গীকার। যোগাযোগ: ০১৭৪৩-১২৭১২২">
        চাঁপাইনবাবগঞ্জ, নাচোলের গাছপাকা গোপালভোগ, ক্ষিরসাপাত, হিমসাগর, ল্যাংড়া, ফজলি — সরাসরি বাগান থেকে ঘরে। বিশ্বস্ততা ও গুণগত মান আমাদের অঙ্গীকার। যোগাযোগ: ০১৭৪৩-১২৭১২২
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav justify-content-center custom-header sticky-top shadow-sm">
    <a class="nav-link text-white lang" data-en="Home" data-bn="হোম" href="index.html">হোম</a>
    <a class="nav-link text-white lang" data-en="About" data-bn="পরিচিতি" href="about.html">পরিচিতি</a>
    <a class="nav-link text-white lang" data-en="Contact" data-bn="যোগাযোগ" href="contact.html">যোগাযোগ</a>
    <a class="nav-link text-white lang" data-en="Order" data-bn="অর্ডার" href="order.html">অর্ডার</a>
  </nav>

  <!-- Main Content -->
  <main class="container mt-5 form-section">
    <h2 class="mb-4 text-center lang" data-en="Place Your Order" data-bn="আপনার অর্ডার দিন">আপনার অর্ডার দিন</h2>

    <p class="lang text-center mb-4"
       data-en="Please fill out the form below to place your mango order. You can choose your preferred mango type, quantity, and payment method. We offer Cash on Delivery, as well as bKash, Nagad, Rocket, and Bank Transfer options. Once submitted, your order will be saved and you'll be redirected for payment (if selected)."
       data-bn="আপনার পছন্দের আম, পরিমাণ ও পেমেন্ট পদ্ধতি বেছে নিয়ে নিচের ফর্মটি পূরণ করুন। আমরা ক্যাশ অন ডেলিভারি ছাড়াও বিকাশ, নগদ, রকেট ও ব্যাংক ট্রান্সফার পদ্ধতি গ্রহণ করি। জমা দেওয়ার পর অর্ডার সংরক্ষিত হবে এবং প্রয়োজনে আপনাকে পেমেন্টের জন্য রিডাইরেক্ট করা হবে।">
      আপনার পছন্দের আম, পরিমাণ ও পেমেন্ট পদ্ধতি বেছে নিয়ে নিচের ফর্মটি পূরণ করুন...
    </p>

    <!-- Order Form -->
    <form id="orderForm" action="https://script.google.com/macros/s/AKfycbxKv6UlCca9dhTPi6Opx9W5mtguoLbwp2sB_Jn_hcVsLkUynil1uj0IciG8tGpMFlljbQ/exec" method="POST">
      <div class="mb-3">
        <label for="name" class="form-label lang" data-en="Full Name *" data-bn="পুরো নাম *">পুরো নাম *</label>
        <input type="text" name="name" class="form-control" id="name" required />
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label lang" data-en="Phone Number *" data-bn="ফোন নম্বর *">ফোন নম্বর *</label>
        <input type="tel" name="phone" class="form-control" id="phone" required />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label lang" data-en="Email Address" data-bn="ইমেইল ঠিকানা">ইমেইল ঠিকানা</label>
        <input type="email" name="email" class="form-control" id="email" />
      </div>
      
<!--
      <div class="mb-3">
        <label for="address" class="form-label lang" data-en="Delivery Address *" data-bn="ডেলিভারি ঠিকানা *">ডেলিভারি ঠিকানা *</label>
        <textarea name="address" class="form-control" id="address" rows="3" required></textarea>
      </div>
-->
      <!-- Address Fields -->
<div class="mb-3">
  <label for="division" class="form-label lang" data-en="Division" data-bn="বিভাগ">বিভাগ</label>
  <select class="form-select" id="division" name="division" required onchange="populateDistricts()">
    <option value="">Select Division</option>
    <!-- Options will be populated dynamically -->
  </select>
</div>

<div class="mb-3">
  <label for="district" class="form-label lang" data-en="District" data-bn="জেলা">জেলা</label>
  <select class="form-select" id="district" name="district" required onchange="populateUpazilas()">
    <option value="">Select District</option>
    <!-- Options will be populated dynamically -->
  </select>
</div>

<div class="mb-3">
  <label for="upazila" class="form-label lang" data-en="Upazila" data-bn="উপজেলা">উপজেলা</label>
  <select class="form-select" id="upazila" name="upazila" required>
    <option value="">Select Upazila</option>
    <!-- Options will be populated dynamically -->
  </select>
</div>

<div class="mb-3">
  <label for="streetAddress" class="form-label lang" data-en="Street Address" data-bn="রাস্তার ঠিকানা">রাস্তার ঠিকানা</label>
  <input type="text" class="form-control" id="streetAddress" name="street_address" required />
</div>

      <div class="mb-3">
        <label for="mangoType" class="form-label lang" data-en="Select Mango Type" data-bn="আমের ধরণ নির্বাচন করুন">আমের ধরণ নির্বাচন করুন</label>
        <select class="form-select" id="mangoType" name="mango_type" onchange="updatePrice()">
          <option value="Langra" data-price="100">Langra - ৳100/kg</option>
          <option value="Himsagar" data-price="120">Himsagar - ৳120/kg</option>
          <option value="Amrapali" data-price="130">Amrapali - ৳130/kg</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label lang" data-en="Price per KG" data-bn="প্রতি কেজির দাম">প্রতি কেজির দাম</label>
        <input type="text" class="form-control" id="pricePerKg" name="price_per_kg" value="100" readonly />
      </div>

      <div class="mb-3">
        <label for="quantity" class="form-label lang" data-en="Quantity (KG)" data-bn="পরিমাণ (কেজি)">পরিমাণ (কেজি)</label>
        <input type="number" name="quantity" id="quantity" class="form-control" min="5" step="5" value="5" required onchange="calculateTotal()" />
      </div>
      div class="mb-3">
  <label class="form-label lang" data-en="Courier Delivery Type" data-bn="কুরিয়ার ডেলিভারি ধরণ">কুরিয়ার ডেলিভারি ধরণ</label>
  <div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="courier_type" id="pointDelivery" value="point" checked onchange="calculateTotal()" />
      <label class="form-check-label lang" for="pointDelivery" data-en="Point Delivery" data-bn="পয়েন্ট ডেলিভারি">পয়েন্ট ডেলিভারি</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="courier_type" id="homeDelivery" value="home" onchange="calculateTotal()" />
      <label class="form-check-label lang" for="homeDelivery" data-en="Home Delivery" data-bn="হোম ডেলিভারি">হোম ডেলিভারি</label>
    </div>
  </div>
</div>

      <div class="mb-3">
        <label class="form-label lang" data-en="Total Price" data-bn="মোট মূল্য">মোট মূল্য</label>
        <input type="text" class="form-control" id="totalPrice" name="total_price" readonly />
      </div>

      <div class="mb-3">
        <label for="deliveryDate" class="form-label lang" data-en="Preferred Delivery Date" data-bn="পছন্দের ডেলিভারির তারিখ">পছন্দের ডেলিভারির তারিখ</label>
        <input type="date" name="delivery_date" id="deliveryDate" class="form-control" required />
      </div>

      <div class="mb-3">
  <label for="payment" class="form-label lang" data-en="Select Payment Method" data-bn="পেমেন্ট পদ্ধতি নির্বাচন করুন">পেমেন্ট পদ্ধতি নির্বাচন করুন</label>
  <select class="form-select" id="payment" name="payment_method" required onchange="togglePaymentFields()">
    <option value="cod">Cash on Delivery</option>
    <option value="bkash">bKash</option>
    <option value="nagad">Nagad</option>
    <option value="rocket">Rocket</option>
    <option value="bank">Bank Transfer</option>
  </select>
</div>

<!-- Payment Instruction & Extra Fields -->
<div id="paymentInstruction" class="alert alert-info d-none"></div>

<div id="paymentFields" class="d-none">
  <div class="mb-3">
    <label for="trxId" class="form-label lang" data-en="Transaction ID *" data-bn="লেনদেন নম্বর *">লেনদেন নম্বর *</label>
    <input type="text" class="form-control" id="trxId" name="trx_id" />
  </div>
  <div class="mb-3">
    <label for="senderNumber" class="form-label lang" data-en="Sender Number *" data-bn="প্রেরক নম্বর *">প্রেরক নম্বর *</label>
    <input type="tel" class="form-control" id="senderNumber" name="sender_number" />
  </div>
</div>
      

      <div class="mb-3">
        <label for="comment" class="form-label lang" data-en="Additional Comments" data-bn="অতিরিক্ত মন্তব্য">অতিরিক্ত মন্তব্য</label>
        <textarea name="comment" class="form-control" id="comment" rows="3"></textarea>
      </div>

      <button type="submit" class="btn btn-success w-100 lang mb-5" data-en="Submit Order" data-bn="অর্ডার জমা দিন">অর্ডার জমা দিন</button>
    </form>
  </main>

  <!-- Price Calculation Script -->
  <script>
    function updatePrice() {
      const select = document.getElementById('mangoType');
      const selectedOption = select.options[select.selectedIndex];
      const price = selectedOption.getAttribute('data-price');
      document.getElementById('pricePerKg').value = price;
      calculateTotal();
    }

    function calculateTotal() {
      const price = parseInt(document.getElementById('pricePerKg').value);
      const qty = parseInt(document.getElementById('quantity').value);
      document.getElementById('totalPrice').value = price * qty;
    }

    calculateTotal();
  </script>

  <script src="script.js" defer></script>

  <script>
  function togglePaymentFields() {
    const method = document.getElementById('payment').value;
    const instruction = document.getElementById('paymentInstruction');
    const extraFields = document.getElementById('paymentFields');

    const paymentTexts = {
      bkash: `Send Money to bKash Personal Number:<br><strong>📱 01920-539997</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      nagad: `Send Money to Nagad Number:<br><strong>📱 01743-127122</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      rocket: `Send Money to Rocket Number:<br><strong>📱 01743-127122</strong><br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`,
      bank: `Bank Transfer to:<br><strong>Bank:</strong> Dutch Bangla Bank Ltd.<br><strong>A/C No:</strong> 1791030100041<br><strong>Name:</strong> Md. Moshiur Rahman<br><strong>Routing:</strong> 090331639<br>পেমেন্ট করার পরে নিচের ফর্মটি পূরণ করুন।`
    };

    if (method === 'cod') {
      instruction.classList.add('d-none');
      extraFields.classList.add('d-none');
      document.getElementById('trxId').required = false;
      document.getElementById('senderNumber').required = false;
    } else {
      instruction.classList.remove('d-none');
      extraFields.classList.remove('d-none');
      instruction.innerHTML = paymentTexts[method] || '';
      document.getElementById('trxId').required = true;
      document.getElementById('senderNumber').required = true;
    }
  }

  // Run on page load in case form is pre-filled
  document.addEventListener('DOMContentLoaded', togglePaymentFields);
</script>

  <script>
  // Sample data structure for divisions, districts, and upazilas
  const divisionData = {
 "Dhaka": {
    "Dhaka": ["Dhamrai", "Dohar", "Keraniganj", "Nawabganj", "Savar", "Dhaka North", "Dhaka South"],
    "Gazipur": ["Gazipur Sadar", "Kaliakoir", "Kaliganj", "Kapasia", "Sreepur"],
    "Kishoreganj": ["Austagram", "Bajitpur", "Bhairab", "Hossainpur", "Itna", "Karimganj", "Katiadi", "Kishoreganj Sadar", "Kuliarchar", "Mithamain", "Nikli", "Pakundia", "Tarail"],
    "Manikganj": ["Daulatpur", "Ghior", "Harirampur", "Manikganj Sadar", "Saturia", "Shibalaya", "Singair"],
    "Munshiganj": ["Gazaria", "Lohajang", "Munshiganj Sadar", "Sirajdikhan", "Sreenagar", "Tongibari"],
    "Narayanganj": ["Araihazar", "Bandar", "Narayanganj Sadar", "Rupganj", "Sonargaon"],
    "Narsingdi": ["Belabo", "Monohardi", "Narsingdi Sadar", "Palash", "Raipura", "Shibpur"],
    "Rajbari": ["Baliakandi", "Goalanda", "Pangsha", "Rajbari Sadar", "Kalukhali"],
    "Shariatpur": ["Bhedarganj", "Damudya", "Gosairhat", "Naria", "Shakhipur", "Shariatpur Sadar"],
    "Tangail": ["Basail", "Bhuapur", "Delduar", "Dhanbari", "Ghatail", "Gopalpur", "Kalihati", "Madhupur", "Mirzapur", "Nagarpur", "Sakhipur", "Tangail Sadar"]
  },
  "Chattogram": {
    "Chattogram": ["Anwara", "Banshkhali", "Boalkhali", "Chandanaish", "Fatikchhari", "Hathazari", "Lohagara", "Mirsharai", "Patiya", "Rangunia", "Raozan", "Sandwip", "Satkania", "Sitakunda"],
    "Cox's Bazar": ["Chakaria", "Cox's Bazar Sadar", "Kutubdia", "Maheshkhali", "Pekua", "Ramu", "Teknaf", "Ukhia"],
    "Bandarban": ["Bandarban Sadar", "Lama", "Naikhongchhari", "Rowangchhari", "Ruma", "Thanchi"],
    "Brahmanbaria": ["Ashuganj", "Bancharampur", "Bijoynagar", "Brahmanbaria Sadar", "Kasba", "Nabinagar", "Nasirnagar", "Sarail"],
    "Chandpur": ["Chandpur Sadar", "Faridganj", "Haimchar", "Haziganj", "Kachua", "Matlab Dakshin", "Matlab Uttar", "Shahrasti"],
    "Cumilla": ["Barura", "Brahmanpara", "Burichang", "Chandina", "Chauddagram", "Comilla Adarsha Sadar", "Comilla Sadar Dakshin", "Daudkandi", "Debidwar", "Homna", "Laksam", "Lalmai", "Meghna", "Monohorgonj", "Muradnagar", "Nangalkot", "Titas"],
    "Feni": ["Chhagalnaiya", "Daganbhuiyan", "Feni Sadar", "Parshuram", "Sonagazi"],
    "Khagrachari": ["Dighinala", "Khagrachari Sadar", "Lakshmichhari", "Mahalchhari", "Manikchhari", "Matiranga", "Panchhari", "Ramgarh"],
    "Lakshmipur": ["Kamalnagar", "Lakshmipur Sadar", "Raipur", "Ramganj", "Ramgati"],
    "Noakhali": ["Begumganj", "Chatkhil", "Companiganj", "Hatiya", "Kabirhat", "Noakhali Sadar", "Senbagh", "Subarnachar"],
    "Rangamati": ["Baghaichhari", "Barkal", "Belaichhari", "Juraichhari", "Kaptai", "Kawkhali", "Langadu", "Naniarchar", "Rajasthali", "Rangamati Sadar"]
  },
  "Barisal": {
    "Barguna": ["Amtali", "Bamna", "Barguna Sadar", "Betagi", "Patharghata", "Taltali"],
    "Barisal": ["Agailjhara", "Babuganj", "Bakerganj", "Banaripara", "Barisal Sadar", "Gournadi", "Hizla", "Mehendiganj", "Muladi", "Wazirpur"],
    "Bhola": ["Bhola Sadar", "Borhanuddin", "Char Fasson", "Daulatkhan", "Lalmohan", "Manpura", "Tazumuddin"],
    "Jhalokati": ["Jhalokati Sadar", "Kathalia", "Nalchity", "Rajapur"],
    "Patuakhali": ["Bauphal", "Dashmina", "Dumki", "Galachipa", "Kalapara", "Mirzaganj", "Patuakhali Sadar", "Rangabali"],
    "Pirojpur": ["Bhandaria", "Kaukhali", "Mathbaria", "Nazirpur", "Nesarabad", "Pirojpur Sadar", "Zianagar"]
  },
  "Khulna": {
    "Bagerhat": ["Bagerhat Sadar", "Chitalmari", "Fakirhat", "Kachua", "Mollahat", "Mongla", "Morrelganj", "Rampal", "Sarankhola"],
    "Chuadanga": ["Alamdanga", "Chuadanga Sadar", "Damurhuda", "Jibannagar"],
    "Jessore": ["Abhaynagar", "Bagherpara", "Chaugachha", "Jhikargachha", "Keshabpur", "Jessore Sadar", "Manirampur", "Sharsha"],
    "Jhenaidah": ["Harinakundu", "Jhenaidah Sadar", "Kaliganj", "Kotchandpur", "Maheshpur", "Shailkupa"],
    "Khulna": ["Batiaghata", "Dacope", "Dumuria", "Dighalia", "Koyra", "Paikgachha", "Phultala", "Rupsa", "Terokhada", "Khulna Sadar"],
    "Kushtia": ["Bheramara", "Daulatpur", "Khoksa", "Kumarkhali", "Kushtia Sadar", "Mirpur"],
    "Magura": ["Magura Sadar", "Mohammadpur", "Shalikha", "Sreepur"],
    "Meherpur": ["Gangni", "Meherpur Sadar", "Mujibnagar"],
    "Narail": ["Kalia", "Lohagara", "Narail Sadar", "Naragati"],
    "Satkhira": ["Assasuni", "Debhata", "Kalaroa", "Kaliganj", "Satkhira Sadar", "Shyamnagar", "Tala"]
  },
  "Mymensingh": {
    "Jamalpur": ["Baksiganj", "Dewanganj", "Islampur", "Jamalpur Sadar", "Madarganj", "Melandaha", "Sarishabari"],
    "Mymensingh": ["Bhaluka", "Dhobaura", "Fulbaria", "Gaffargaon", "Gauripur", "Haluaghat", "Ishwarganj", "Muktagachha", "Mymensingh Sadar", "Nandail", "Phulpur", "Trishal"],
    "Netrokona": ["Atpara", "Barhatta", "Durgapur", "Khaliajuri", "Kalmakanda", "Kendua", "Madan", "Mohanganj", "Netrokona Sadar", "Purbadhala"],
    "Sherpur": ["Jhenaigati", "Nakla", "Nalitabari", "Sherpur Sadar", "Sreebardi"]
  },
    "Rajshahi": {
  "Bogura": ["Adamdighi", "Bogra Sadar", "Dhunat", "Dhupchanchia", "Gabtali", "Kahaloo", "Nandigram", "Sariakandi", "Shajahanpur", "Sherpur", "Shibganj", "Sonatala"],
  "Chapai Nawabganj": ["Bholahat", "Gomastapur", "Nachole", "Nawabganj Sadar", "Shibganj"],
  "Joypurhat": ["Akkelpur", "Joypurhat Sadar", "Kalai", "Khetlal", "Panchbibi"],
  "Naogaon": ["Atrai", "Badalgachhi", "Dhamoirhat", "Manda", "Mohadevpur", "Naogaon Sadar", "Niamatpur", "Patnitala", "Porsha", "Raninagar", "Sapahar"],
  "Natore": ["Bagatipara", "Baraigram", "Gurudaspur", "Lalpur", "Natore Sadar", "Singra"],
  "Pabna": ["Atgharia", "Bera", "Bhangura", "Chatmohar", "Faridpur", "Ishwardi", "Pabna Sadar", "Santhia", "Sujanagar"],
  "Rajshahi": ["Bagha", "Bagmara", "Charghat", "Durgapur", "Godagari", "Mohanpur", "Paba", "Puthia", "Rajshahi Sadar", "Tanore"],
  "Sirajganj": ["Belkuchi", "Chauhali", "Kamarkhanda", "Kazipur", "Raiganj", "Shahjadpur", "Sirajganj Sadar", "Tarash", "Ullapara"]
},
    "Rangpur": {
  "Dinajpur": ["Birampur", "Birganj", "Biral", "Bochaganj", "Chirirbandar", "Dinajpur Sadar", "Fulbari", "Ghoraghat", "Hakimpur", "Kaharole", "Khansama", "Nawabganj", "Parbatipur"],
  "Gaibandha": ["Fulchhari", "Gaibandha Sadar", "Gobindaganj", "Palashbari", "Sadullapur", "Saghata", "Sundarganj"],
  "Kurigram": ["Bhurungamari", "Char Rajibpur", "Chilmari", "Fulbari", "Kurigram Sadar", "Nageshwari", "Rajarhat", "Raomari", "Ulipur"],
  "Lalmonirhat": ["Aditmari", "Hatibandha", "Kaliganj", "Lalmonirhat Sadar", "Patgram"],
  "Nilphamari": ["Dimla", "Domar", "Jaldhaka", "Kishoreganj", "Nilphamari Sadar", "Saidpur"],
  "Panchagarh": ["Atwari", "Boda", "Debiganj", "Panchagarh Sadar", "Tetulia"],
  "Rangpur": ["Badarganj", "Gangachara", "Kaunia", "Mithapukur", "Pirgachha", "Pirganj", "Rangpur Sadar", "Taraganj"],
  "Thakurgaon": ["Baliadangi", "Haripur", "Pirganj", "Ranisankail", "Thakurgaon Sadar"]
},
    "Sylhet": {
  "Habiganj": ["Ajmiriganj", "Bahubal", "Baniachang", "Chunarughat", "Habiganj Sadar", "Lakhai", "Madhabpur", "Nabiganj"],
  "Moulvibazar": ["Barlekha", "Juri", "Kamalganj", "Kulaura", "Moulvibazar Sadar", "Rajnagar", "Sreemangal"],
  "Sunamganj": ["Bishwamvarpur", "Chhatak", "Derai", "Dharampasha", "Dowarabazar", "Jagannathpur", "Jamalganj", "Sullah", "Sunamganj Sadar", "Tahirpur"],
  "Sylhet": ["Balaganj", "Beanibazar", "Bishwanath", "Companiganj", "Dakshin Surma", "Fenchuganj", "Golapganj", "Gowainghat", "Jaintiapur", "Kanaighat", "Osmaninagar", "Sylhet Sadar", "Zakiganj"]
};

  // Populate divisions on page load
  window.onload = function() {
    const divisionSelect = document.getElementById('division');
    for (let division in divisionData) {
      let option = document.createElement('option');
      option.value = division;
      option.text = division;
      divisionSelect.add(option);
    }
  };

  // Populate districts based on selected division
  function populateDistricts() {
    const divisionSelect = document.getElementById('division');
    const districtSelect = document.getElementById('district');
    const upazilaSelect = document.getElementById('upazila');
    const selectedDivision = divisionSelect.value;

    // Clear previous options
    districtSelect.innerHTML = '<option value="">Select District</option>';
    upazilaSelect.innerHTML = '<option value="">Select Upazila</option>';

    if (selectedDivision && divisionData[selectedDivision]) {
      const districts = Object.keys(divisionData[selectedDivision]);
      districts.forEach(district => {
        let option = document.createElement('option');
        option.value = district;
        option.text = district;
        districtSelect.add(option);
      });
    }
  }

  // Populate upazilas based on selected district
  function populateUpazilas() {
    const divisionSelect = document.getElementById('division');
    const districtSelect = document.getElementById('district');
    const upazilaSelect = document.getElementById('upazila');
    const selectedDivision = divisionSelect.value;
    const selectedDistrict = districtSelect.value;

    // Clear previous options
    upazilaSelect.innerHTML = '<option value="">Select Upazila</option>';

    if (
      selectedDivision &&
      selectedDistrict &&
      divisionData[selectedDivision] &&
      divisionData[selectedDivision][selectedDistrict]
    ) {
      const upazilas = divisionData[selectedDivision][selectedDistrict];
      upazilas.forEach(upazila => {
        let option = document.createElement('option');
        option.value = upazila;
        option.text = upazila;
        upazilaSelect.add(option);
      });
    }
  }

  // Function to update price per kg based on selected mango type
  function updatePrice() {
    const mangoTypeSelect = document.getElementById('mangoType');
    const pricePerKgInput = document.getElementById('pricePerKg');
    const selectedOption = mangoTypeSelect.options[mangoTypeSelect.selectedIndex];
    const price = selectedOption.getAttribute('data-price');
    pricePerKgInput.value = price;
    calculateTotal();
  }

  // Function to calculate total price including courier charges
  function calculateTotal() {
    const pricePerKg = parseFloat(document.getElementById('pricePerKg').value) || 0;
    const quantity = parseFloat(document.getElementById('quantity').value) || 0;
    const division = document.getElementById('division').value;
    const courierType = document.querySelector('input[name="courier_type"]:checked').value;

    let courierChargePerKg = 0;

    if (division === "Dhaka") {
      courierChargePerKg = courierType === "point" ? 13 : 22;
    } else {
      courierChargePerKg = courierType === "point" ? 16 : 25;
    }

    const totalCourierCharge = courierChargePerKg * quantity;
    const totalPrice = (pricePerKg * quantity) + totalCourierCharge;

    document.getElementById('totalPrice').value = totalPrice.toFixed(2);
  }
</script>
  
</body>
</html>
